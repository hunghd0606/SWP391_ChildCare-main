<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <link rel="icon" th:href="@{/image/logo2-removebg-preview.png}">
    <title>YS ChildCare</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css"
          integrity="sha512-Oy+sz5W86PK0ZIkawrG0iv7XwWhYecM3exvUtMKNJMekGFJtVAhibhRPTpmyTj8+lJCkmWfnpxKgT2OopquBHA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style_V3.css}">
</head>
<body>
<div class="limiter">
    <div class="container-login100" th:style="'background: url(/image/register.jpg)'">
        <div class="wrap-login100">
            <form th:action="@{/home/forgotPass?id={id}(id=${session.forPassHome})}" method="post"
                  th:case="false" th:switch="${isCheck}">
                <span class="login100-form-title"> Forgot Password </span>
                <p class="text-center danger" id="err" th:case="true" th:switch="${notExit}">
                    <span style="color: red">Sai thông tin</span>
                </p>
                <!-- Name -->
                <div class="wrap-input100 validate-input">
                    <input class="input100" type="text" th:value="${accountTam.getFirstName()}"
                           name="fname" id="fname" placeholder="First Name"
                           pattern="([a-zA-Z',.-]{2,8}[ ]{0,1}){1,3}"
                           title="Name sai dinh dang" required="">
                    <span class="focus-input100"></span>
                    <span class="symbol-input100">
                                <i class="fa-solid fa-circle-user"></i>
                            </span>
                </div>

                <div class="wrap-input100 validate-input">
                    <input class="input100" type="text"
                           name="lname" id="lname" placeholder="Last Name" th:value="${accountTam.getLastName()}"
                           pattern="([a-zA-Z',.-]{2,8}[ ]{0,1}){1,3}"
                           title="Name sai dinh dang" required="">
                    <span class="focus-input100"></span>
                    <span class="symbol-input100">
                                <i class="fa-solid fa-circle-user"></i>
                            </span>
                </div>

                <!-- Gender -->
                <div class="wrap-input100 validate-input">
                    <select name="gender">
                        <!--<option selected disabled>Gender</option>-->
                        <option th:selected="${accountTam.isGender()}" value="male">Male</option>
                        <option th:selected="${!accountTam.isGender()}" value="female">Female</option>
                    </select>
                </div>
                <!-- Phone -->
                <div class="wrap-input100 validate-input">
                    <input class="input100" type="text" name="phone"
                           placeholder="0858050379"
                           pattern="^(([+]84)|0)(3|5|7|8|9)([0-9]{8})" title="Phone in VN"
                           th:value="${accountTam.getPhoneNumber()}"
                           required="">
                    <span class="focus-input100"></span>
                    <span class="symbol-input100"><i class="fa-solid fa-mobile-button"></i>
                            </span>
                </div>
                <!-- Email -->
                <div class="wrap-input100 validate-input" th:case="true" th:switch="${exitEmail}">
                    <span style="color: red">Email đã tồn tại</span>
                </div>
                <div class="wrap-input100 validate-input">
                    <input class="input100" type="text" name="email" id="email" placeholder="Email"
                           th:value="${accountTam.getEmail()}"
                           title="Must contain @" required/>
                    <span class="focus-input100"></span>
                    <span class="symbol-input100"><i class="fa-solid fa-envelope"></i>
                            </span>

                </div>
                <div class="container-login100-form-btn">
                    <button type="submit" class="btn btn-danger login100-form-btn">Submit</button>
                </div>
                <hr/>
                <div class="text-center p-t-136" id="create-account">
                    <a class="txt2" href="login">
                        <i class="fa fa-long-arrow-left m-l-5" aria-hidden="true"></i>
                        Already have account? Login
                    </a>
                </div>
            </form>
            <div th:case="true" th:switch="${isCheck}">
                <form th:action="@{/home/checkForgotPassInHome?id={id}(id=${session.registerSessionForgotHome})}"
                      method="post"
                      th:case="false"
                      th:switch="${doneRegis}">
                    <span class="login100-form-title"> We have sent your verification email</span>
                    <!-- Code -->
                    <div class="wrap-input100 validate-input" th:case="true" th:switch="${exitEmail}">
                        <span style="color: red">Code sai</span>
                    </div>
                    <div class="wrap-input100 validate-input">
                        <input class="input100" type="text"
                               name="codeRe" id="fname" th:value="${codeFalse}" placeholder="Insert code here"
                               required="">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                                <i class="fa-solid fa-circle-user"></i>
                            </span>
                    </div>
                    <div class="container-login100-form-btn">
                        <button type="submit" class="btn btn-danger login100-form-btn">Submit</button>
                    </div>
                    <hr/>
                    <div class="text-center p-t-136" id="create-account">
                        <a class="txt2" href="login">
                            <i class="fa fa-long-arrow-left m-l-5" aria-hidden="true"></i>
                            Already have account? Login
                        </a>
                    </div>
                </form>
                <!--                // tao xong acc-->
                <form th:action="@{/home/login}" method="get" th:case="true"
                      th:switch="${doneRegis}">
                    <span class="login100-form-title">Pls check, We have sent your email</span>
                    <div class="container-login100-form-btn">
                        <button type="submit" class="btn btn-danger login100-form-btn">Home</button>
                    </div>
                    <hr/>
                    <div class="text-center p-t-136" id="create-account">
                        <a class="txt2" href="login">
                            <i class="fa fa-long-arrow-left m-l-5" aria-hidden="true"></i>
                            Already have account? Login
                        </a>
                    </div>
                </form>
            </div>


        </div>
    </div>
</div>

<!-- Bootstrap core JS-->
<script>
    var fname = document.getElementById("fname");
    var lname = document.getElementById("lname");
    var phone = document.getElementById("phone");
    var email = document.getElementById("email");
    var password = document.getElementById("password")

    fname.onkeyup = function () {
        var numbers = /[0-9]/g;
        var specs = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
        if (fname.value.match(numbers) || fname.value.match(specs)) {
            document.getElementById("fnameinvalid").style.visibility = "visible";
        } else {
            document.getElementById("fnameinvalid").style.visibility = "hidden";
        }

    }

    lname.onkeyup = function () {
        var numbers = /[0-9]/g;
        var specs = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
        if (lname.value.match(numbers) || lname.value.match(specs)) {
            document.getElementById("lnameinvalid").style.visibility = "visible";
        } else {
            document.getElementById("lnameinvalid").style.visibility = "hidden";
        }
    }

    phone.onkeyup = function () {
        var letters = /[a-zA-Z]/g;
        var specs = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;

        if (phone.value.startsWith("03") || phone.value.startsWith("05") || phone.value.startsWith("07") || phone.value.startsWith("08") || phone.value.startsWith("09")) {
            if (phone.value.match(letters) || phone.value.match(specs) || phone.value.length !== 10) {
                document.getElementById("phoneinvalid").style.visibility = "visible";
            } else {
                document.getElementById("phoneinvalid").style.visibility = "hidden";
            }
        } else {
            document.getElementById("phoneinvalid").style.visibility = "visible";
        }
    }

    email.onkeyup = function () {
        if (email.value.includes('@') === true) {
            document.getElementById("emailinvalid").style.visibility = "hidden";
        } else {
            document.getElementById("emailinvalid").style.visibility = "visible";
        }
    }
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
